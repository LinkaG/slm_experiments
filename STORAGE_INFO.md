# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

## üì¶ **–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?**

### **–ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç:**
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã) —Ö—Ä–∞–Ω—è—Ç—Å—è **–¢–û–õ–¨–ö–û –≤ MinIO S3**, –∞ ClearML –ë–î —Ö—Ä–∞–Ω–∏—Ç **—Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏** –Ω–∞ –Ω–∏—Ö.

---

## üíæ **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è:**

### **1. –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–∏—Å–∫**
```
outputs/<experiment_name>/
‚îú‚îÄ‚îÄ results.json          # ~1 KB
‚îú‚îÄ‚îÄ predictions.json      # –ú–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º (10-100+ MB)
‚îî‚îÄ‚îÄ memory_usage.json     # ~10 KB
```

**–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏.

---

### **2. MinIO S3 (Object Storage)**
```
s3://clearml-artifacts/slm-experiments/
‚îî‚îÄ‚îÄ <experiment_name>.<experiment_id>/
    ‚îî‚îÄ‚îÄ artifacts/
        ‚îú‚îÄ‚îÄ experiment_results/results.json
        ‚îú‚îÄ‚îÄ model_predictions/predictions.json  ‚Üê –ë–û–õ–¨–®–û–ô –§–ê–ô–õ
        ‚îî‚îÄ‚îÄ memory_usage/memory_usage.json
```

**–ü–æ–ª–Ω—ã–µ —Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–¥–µ—Å—å.**

---

### **3. ClearML Server (PostgreSQL –ë–î)**
```
–ë–î —Ö—Ä–∞–Ω–∏—Ç –¢–û–õ–¨–ö–û:
‚îú‚îÄ‚îÄ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å, —Ç–µ–≥–∏)
‚îú‚îÄ‚îÄ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏/–¥–∞—Ç–∞—Å–µ—Ç–∞)
‚îú‚îÄ‚îÄ –ú–µ—Ç—Ä–∏–∫–∏ (—á–∏—Å–ª–∞: Token Recall, –≤—Ä–µ–º—è)
‚îú‚îÄ‚îÄ –õ–æ–≥–∏ –∫–æ–Ω—Å–æ–ª–∏ (—Ç–µ–∫—Å—Ç)
‚îî‚îÄ‚îÄ –°–°–´–õ–ö–ò –Ω–∞ —Ñ–∞–π–ª—ã –≤ S3:
    ‚îú‚îÄ‚îÄ s3://clearml-artifacts/.../predictions.json  ‚Üê –°–°–´–õ–ö–ê (~100 bytes)
    ‚îî‚îÄ‚îÄ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: —Ä–∞–∑–º–µ—Ä, –¥–∞—Ç–∞, —Ö–µ—à
```

**–°–∞–º–∏ —Ñ–∞–π–ª—ã –ù–ï —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î!**

---

## üî¢ **–†–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:**

### **–ü—Ä–∏–º–µ—Ä: —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å 10,000 –ø—Ä–∏–º–µ—Ä–∞–º–∏**

| –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è |
|------|--------|--------------|
| predictions.json | 100 MB | –õ–æ–∫–∞–ª—å–Ω–æ + MinIO S3 |
| results.json | 1 KB | –õ–æ–∫–∞–ª—å–Ω–æ + MinIO S3 |
| memory_usage.json | 10 KB | –õ–æ–∫–∞–ª—å–Ω–æ + MinIO S3 |
| –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ ClearML | ~5 KB | PostgreSQL –ë–î |
| –°—Å—ã–ª–∫–∏ –Ω–∞ S3 | ~500 bytes | PostgreSQL –ë–î |

**–ò—Ç–æ–≥–æ:**
- **–õ–æ–∫–∞–ª—å–Ω–æ:** ~100 MB
- **MinIO S3:** ~100 MB  
- **ClearML –ë–î:** ~5 KB (—Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Å—Å—ã–ª–∫–∏!)

**–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:** —Ç–æ–ª—å–∫–æ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–∏—Å–∫–æ–º –∏ S3 (~200 MB total)

---

## üí° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç–∞:**

### **–û–ø—Ü–∏—è 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)**

–í–∫–ª—é—á–∏—Ç–µ –æ—á–∏—Å—Ç–∫—É –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ S3:

```yaml
# configs/config.yaml
experiment:
  cleanup_local_artifacts: true  # –£–¥–∞–ª—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ S3
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –õ–æ–∫–∞–ª—å–Ω–æ: ~0 MB (—Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫)
- MinIO S3: ~100 MB ‚úÖ
- ClearML –ë–î: ~5 KB

**–≠–∫–æ–Ω–æ–º–∏—è:** ~100 MB –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –¥–∏—Å–∫–µ!

---

### **–û–ø—Ü–∏—è 2: –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤**

```bash
# –£–¥–∞–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
find outputs/ -type d -mtime +7 -exec rm -rf {} +

# –ò–ª–∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–æ–Ω–∏ –≤ S3!)
rm -rf outputs/*/
```

**–§–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ S3** –∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ ClearML Web UI!

---

### **–û–ø—Ü–∏—è 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ retention –≤ MinIO**

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ lifecycle policy –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:

```bash
# –£–¥–∞–ª—è—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π
mc ilm add myminio/clearml-artifacts --expiry-days 90
```

---

## üîç **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ S3:**

### **–ß–µ—Ä–µ–∑ ClearML Web UI:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç: http://51.250.43.3:8080
2. –í–∫–ª–∞–¥–∫–∞ **ARTIFACTS**
3. –ö–Ω–æ–ø–∫–∞ **Download** —Ä—è–¥–æ–º —Å —Ñ–∞–π–ª–æ–º

### **–ß–µ—Ä–µ–∑ Python API:**
```python
from clearml import Task

task = Task.get_task(task_id='your_task_id')
predictions = task.artifacts['model_predictions'].get()
```

### **–ù–∞–ø—Ä—è–º—É—é –∏–∑ MinIO:**
```bash
poetry run python -c "
import boto3
s3 = boto3.client('s3', endpoint_url='http://51.250.43.3:9000', ...)
s3.download_file('clearml-artifacts', 'path/to/predictions.json', 'local.json')
"
```

---

## üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è:**

| –í–∞—Ä–∏–∞–Ω—Ç | –õ–æ–∫–∞–ª—å–Ω–æ | S3 | ClearML –ë–î | –ò—Ç–æ–≥–æ |
|---------|----------|-----|------------|-------|
| **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é** | 100 MB | 100 MB | 5 KB | ~200 MB |
| **–° cleanup** | 0 MB | 100 MB | 5 KB | ~100 MB ‚úÖ |
| **–ë–µ–∑ ClearML** | 100 MB | 0 MB | 0 MB | ~100 MB |

---

## ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –≤–∫–ª—é—á–∏—Ç–µ `cleanup_local_artifacts: true`
2. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –æ—Å—Ç–∞–≤—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. **–î–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏:** –≤—Å–µ –≤ S3, –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
4. **–î–ª—è –∞–Ω–∞–ª–∏–∑–∞:** —Å–∫–∞—á–∏–≤–∞–π—Ç–µ –∏–∑ S3 —á–µ—Ä–µ–∑ ClearML API

---

## üéØ **–ò—Ç–æ–≥–æ:**

- ‚úÖ **–ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –ù–ï –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è** –≤ ClearML –ë–î
- ‚úÖ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ** –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–∏—Å–∫–æ–º –∏ S3
- ‚úÖ **ClearML –ë–î —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** (~5 KB –Ω–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç)
- ‚úÖ **–ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫—É** –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ **–í—Å–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã** —á–µ—Ä–µ–∑ S3 –∏ ClearML Web UI

**–î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞:** –≤–∫–ª—é—á–∏—Ç–µ `cleanup_local_artifacts: true` –≤ –∫–æ–Ω—Ñ–∏–≥–µ!

